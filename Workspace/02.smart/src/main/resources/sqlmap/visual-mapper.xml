<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="visual">

<!-- 부서별 사원수 조회 -->
	<select id="department" resultType="hashmap">
		SELECT  E.DEPARTMENT_ID, COUNT(*) COUNT, NVL(DEPARTMENT_NAME, '소속 없음') DEPARTMENT_NAME
		FROM    EMPLOYEES E LEFT OUTER JOIN DEPARTMENTS D ON E.DEPARTMENT_ID = D.DEPARTMENT_ID
		GROUP BY E.DEPARTMENT_ID, DEPARTMENT_NAME
		ORDER BY E.DEPARTMENT_ID
	</select>

</mapper>